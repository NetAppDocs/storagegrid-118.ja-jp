---
permalink: maintain/checking-data-repair-jobs.html 
sidebar: sidebar 
keywords: storagegrid, data repair 
summary: グリッドノードの運用を停止する前に、アクティブなデータ修復ジョブがないことを確認する必要があります。修復に失敗した場合は、手順 の運用を停止する前に、修復を再開し、完了させておく必要があります。 
---
= データ修復ジョブを確認します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
グリッドノードの運用を停止する前に、アクティブなデータ修復ジョブがないことを確認する必要があります。修復に失敗した場合は、手順 の運用を停止する前に、修復を再開し、完了させておく必要があります。

.このタスクについて
切断されているストレージノードの運用を停止する必要がある場合は、運用停止手順 の完了後に以下の手順も実行して、データ修復ジョブが正常に完了したことを確認します。削除したノードにイレイジャーコーディングフラグメントがあった場合は、適切にリストアされたことを確認してください。

以下の手順は、イレイジャーコーディングオブジェクトがあるシステムにのみ適用されます。

.手順
. プライマリ管理ノードにログインします。
+
.. 次のコマンドを入力します。 `ssh admin@_grid_node_IP_`
.. に記載されているパスワードを入力します `Passwords.txt` ファイル。
.. 次のコマンドを入力してrootに切り替えます。 `su -`
.. に記載されているパスワードを入力します `Passwords.txt` ファイル。
+
rootとしてログインすると、プロンプトがから変わります `$` 終了： `#`。



. 実行中の修復の有無を確認します。 `repair-data show-ec-repair-status`
+
** データ修復ジョブを実行したことがない場合、出力はになります `No job found`。修復ジョブを再開する必要はありません。
** データ修復ジョブを以前に実行したか、現在実行している場合は、出力には修復に関する情報が表示されます。各修復には、一意の修復 ID が割り当てられます。
+
image::../media/repair-data-status.png[修復データのステータス]



+

TIP: 必要に応じて、Grid Managerを使用して進行中のリストアプロセスを監視し、リストア履歴を表示できます。を参照してください
link:../maintain/restoring-volume.html["Grid Managerを使用してオブジェクトデータをリストアする"]。

. すべての修理のStateがの場合 `Completed`、修復ジョブを再開する必要はありません。
. いずれかの修理のStateがの場合 `Stopped`、その修復を再開する必要があります。
+
.. 出力から、障害が発生した修復の修復 ID を取得します。
.. を実行します `repair-data start-ec-node-repair` コマンドを実行します
+
を使用します `--repair-id` 修復IDを指定するオプション。たとえば、修復IDが949292の修復を再試行する場合、実行するコマンドはです。 `repair-data start-ec-node-repair --repair-id 949292`

.. すべての修復のStateがになるまで、引き続きECデータの修復のステータスを追跡します `Completed`。



